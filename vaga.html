<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vaga - HEALTH-IA</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <div class="div_contato">
        <h1 class="h1_contato">Candidate-se para a Vaga</h1>

        <div class="div_formulario">

            <label for="input_nome">Nome:</label>
            <input id="input_nome" class="input_formulario" type="text">

            <br><br>

            <label for="input_email">Email:</label>
            <input id="input_email" class="input_formulario" type="email">

            <br><br>

            <label for="input_vaga">Vaga desejada:</label>
            <input id="input_vaga" class="input_formulario" type="text">

            <br><br>

            <label for="input_msg">Mensagem:</label>
            <textarea id="input_msg" class="input_formulario"></textarea>

            <br><br>

            <button class="botao" id="btn_enviar_vaga">Enviar candidatura</button>

            <p class="d_p" id="resultado_vaga">O resultado aparecer√° aqui</p>
        </div>
    </div>

</body>

<script>
    btn_enviar_vaga.onclick = async () => {
        const nome = input_nome.value;
        const email = input_email.value;
        const vaga = input_vaga.value;
        const mensagem = input_msg.value;

        const resposta = await fetch("http://localhost:3000/candidatura_vaga", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ nome, email, vaga, mensagem })
        });

        const dados = await resposta.json();
        resultado_vaga.innerText = dados.resposta || "Candidatura enviada!";
    };
</script>

</html>
